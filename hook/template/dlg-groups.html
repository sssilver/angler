<div class="modal-header">
  <h3>
    Add
    <span ng-if="students.length > 1">{{students.length}} students</span>
    <em ng-if="students.length == 1">{{students[0].name}}</em>
    to a group</h3>
</div>

<div class="modal-body">
  <form role="form" class="form-horizontal">
    <div class="form-group">
      <label class="col-sm-3 control-label">Course</label>
      <div class="col-sm-9">
        <select class="form-control"
                ng-options="course.title for course in courses"
                ng-model="selection.course"
                ng-change="populateTariffs(selection.course); populateLevels(selection.course);"></select>
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-3 control-label">Payment plan</label>
      <div class="col-sm-9">
        <select class="form-control"
                ng-options="tariff.title for tariff in tariffs"
                ng-model="selection.tariff"
                ng-disabled="!selection.course"></select>
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-3 control-label">Level</label>
      <div class="col-sm-9">
        <select class="form-control"
                ng-options="level.title for level in levels"
                ng-model="selection.level"
                ng-change="populateGroups(selection.level, selection.teacher)"
                ng-disabled="!levels.length"></select>
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-3 control-label">Teacher</label>
      <div class="col-sm-9">
        <select class="form-control"
                ng-options="teacher.name for teacher in teachers"
                ng-model="selection.teacher"
                ng-change="populateGroups(selection.level, selection.teacher)"
                ng-disabled="!teachers.length"></select>
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-3 control-label">Group</label>
      <div class="col-sm-6">
        <select class="form-control"
                ng-options="group.title for group in groups"
                ng-model="selection.group"
                ng-disabled="!groups.length"></select>
      </div>
      <button class="btn btn-sm col-sm-2"
              ng-click="createGroup(selection.level, selection.teacher)"
              ng-disabled="!selection.teacher">
        New group
      </button>
    </div>

  </form>
  {{selected_tariff}}
</div>
<div class="modal-footer">
  <button class="btn btn-primary" ng-click="ok()">OK</button>
  <button class="btn" ng-click="cancel()">Cancel</button>
</div>
